#!/bin/bash
# Interactive qart with stdlib preloaded
# This version uses a named pipe to allow true interactive use

HERE=$(dirname $0)

if [ $# -eq 0 ]; then
    # Interactive mode: load stdlib, enable prompts, then read from TTY
    { cat $HERE/../src/stdlib.fth; echo " INTERAC "; cat -; } | $HERE/../out/qart
else
    # File mode: load stdlib and files with spaces between to prevent word joining
    {
        cat $HERE/../src/stdlib.fth
        for file in "$@"; do
            echo " "  # Add space separator between files
            cat "$file"
        done
    } | $HERE/../out/qart
fi
